<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>خريطة ArcGIS - بسيطة وتعمل</title>
    <!-- أي روابط CSS أو مكتبات ArcGIS الحالية هنا، مثل: -->
    <!-- <link rel="stylesheet" href="https://js.arcgis.com/4.28/esri/themes/light/main.css"> -->
    <!-- أو أي شيء آخر موجود -->
</head>
<body>
    <!-- شاشة إدخال كلمة المرور -->
    <div id="passwordScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #fff; display: flex; align-items: center; justify-content: center; z-index: 9999;">
        <div style="text-align: center; padding: 20px; background: #333; border-radius: 10px;">
            <h2>أدخل كلمة المرور للوصول</h2>
            <input type="password" id="passwordInput" placeholder="كلمة المرور" style="padding: 10px; margin: 10px; width: 200px;">
            <br>
            <button onclick="checkPassword()" style="padding: 10px 20px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">دخول</button>
            <p id="errorMsg" style="color: red; display: none;">كلمة المرور غير صحيحة!</p>
        </div>
    </div>

    <!-- المحتوى الرئيسي (محتوى صفحتك الحالي هنا، مثل خريطة ArcGIS) -->
    <div id="mainContent" style="display: none;">
        <!-- ضع هنا كل المحتوى الحالي من StormGitHub.html، مثل: -->
        <!-- <div id="map" style="height: 100vh;"></div> -->
        <!-- وأي سكريبتات ArcGIS أو غيرها -->
        <!-- مثال على خريطة ArcGIS: -->
        <div id="viewDiv" style="height: 100vh; width: 100%;"></div>
        
        <script src="https://js.arcgis.com/4.28/"></script>
        <script>
            require([
                "esri/Map",
                "esri/views/MapView"
            ], function(Map, MapView) {
                var map = new Map({
                    basemap: "topo-vector"
                });
                var view = new MapView({
                    container: "viewDiv",
                    map: map,
                    center: [-118.2437, 34.0522],
                    zoom: 8
                });
            });
        </script>
    </div>

    <!-- سكريبت التحقق من كلمة المرور -->
    <script>
        const correctPassword = "MySecretPass123"; // غيّر هذه الكلمة إلى ما تريد

        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            const errorMsg = document.getElementById('errorMsg');
            
            if (input === correctPassword) {
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                // حفظ في sessionStorage لتجنب إعادة الإدخال في نفس الجلسة
                sessionStorage.setItem('passwordEntered', 'true');
            } else {
                errorMsg.style.display = 'block';
                setTimeout(() => { errorMsg.style.display = 'none'; }, 3000);
            }
        }

        // التحقق إذا تم إدخال كلمة المرور سابقًا في الجلسة
        if (sessionStorage.getItem('passwordEntered') === 'true') {
            document.getElementById('passwordScreen').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
        }

        // السماح بالدخول بالضغط على Enter
        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });
    </script>
</body>
</html>


